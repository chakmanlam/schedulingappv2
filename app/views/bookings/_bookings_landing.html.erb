<!-- app/views/bookings/_bookings_landing.html.erb -->
<div data-controller="tab">
  <nav class="bg-white mb-4 shadow rounded">
    <ul id="nav-tab" class="flex border-b border-gray-300">

      <li data-action="click->tab#click" data-tab-target="tab" data-tab="calendar" class="active mr-1">
        <button type="button" class="inline-block py-2 px-4 text-blue-500 hover:text-blue-700 font-semibold border-l border-t border-r rounded-t bg-indigo-100 flex items-center">
          <svg viewBox="0 0 20 20" width="16" height="16" class="fill-current text-blue-500 mr-2"><title>calendar</title><path d="M1 4c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V4zm2 2v12h14V6H3zm2-6h2v2H5V0zm8 0h2v2h-2V0zM5 9h2v2H5V9zm0 4h2v2H5v-2zm4-4h2v2H9V9zm0 4h2v2H9v-2zm4-4h2v2h-2V9zm0 4h2v2h-2v-2z"></path></svg>
          Calendar
        </button>
      </li>

       <li data-action="click->tab#click" data-tab-target="tab" data-tab="all-bookings" class="mr-1">
        <button type="button" class= "inline-block py-2 px-4 text-gray-500 hover:text-gray-700 font-semibold border-l border-t border-r rounded-t bg-white bg-gray-100 flex items-center">
          <svg viewBox="0 0 20 20" class="fill-current text-gray-500 mr-2" width="16" height="16"><title>coffee</title><path d="M4 11H2a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h2V1h14v10a4 4 0 0 1-4 4H8a4 4 0 0 1-4-4zm0-2V5H2v4h2zm-2 8v-1h18v1l-4 2H6l-4-2z"></path></svg>
          All Bookings
        </button>
      </li>

    </ul>
  </nav>

  <div data-tab-target="panel" data-panel="all-bookings" class="container mx-auto p-4">
    <h1 class="text-2xl font-bold mb-4 text-center">Bookings</h1>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-lg shadow overflow-hidden">
        <thead class="bg-gray-200">
          <tr>
            <th class="py-3 px-5 text-left font-medium text-gray-700">User</th>
            <th class="py-3 px-5 text-left font-medium text-gray-700">Client</th>
            <th class="py-3 px-5 text-left font-medium text-gray-700">Date</th>
            <th class="py-3 px-5 text-left font-medium text-gray-700">Time</th>
            <th class="py-3 px-5 text-left font-medium text-gray-700">Type</th>
            <th class="py-3 px-5 text-left font-medium text-gray-700">Duration</th>
          </tr>
        </thead>
        <tbody>
          <% @bookings.each do |booking| %>
            <tr class="border-b border-gray-200 hover:bg-gray-100">
              <td class="py-3 px-5"><%= booking.user.name %></td>
              <td class="py-3 px-5"><%= booking.client.name %></td>
              <td class="py-3 px-5"><%= booking.datetime.strftime('%b %d, %Y') %></td>
              <td class="py-3 px-5"><%= booking.datetime.strftime('%I:%M %p') %></td>
              <td class="py-3 px-5"><%= booking.appointment_type.name %></td>
              <td class="py-3 px-5"><%= booking.duration %> minutes</td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <div data-tab-target="panel" data-panel="calendar" class="container mx-auto p-4">
    <h2 class="text-2xl font-bold mb-4 text-center">Calendar</h2>
    <div id="meeting-calendar">
      <%= render partial: "calendar", locals: { bookings: bookings} %>
    </div>
  </div>
</div>